---
layout: post
title:  "Work In Progress - Error WIF10201"
date:   2015-6-3 16:17:40
author: Zacharias
---

h2. A difficult-to-search-for WIF error

If you get this error using a STS in a ASP.Identity or WIF scenario

pre. WIF10201: No valid key mapping found for securityToken: ‘System.IdentityModel.Tokens.X509SecurityToken’ and issurer

p. There's a good chance that the issuer is using a novel certificate, accoriding to your identity configuration. In the context of ASP.NET/MVC applications, this can be found in a @web.config@ section in the following XML path: system.identityModel-> identityConfiguration-> issuerNameRegistry-> authority-> keys. This hexadecimal hash is typically from the wizard configuration.

h5. The source of the error what you'd expect when crypto hashes disagree.

p. Since the token isn't matching up to your configuration's value, there isn't any token handling services to deal with tokens that are signed not in the way you'd expect.

__coming soon: How to confirm your STS hash is correct in ADFS 3.0__
